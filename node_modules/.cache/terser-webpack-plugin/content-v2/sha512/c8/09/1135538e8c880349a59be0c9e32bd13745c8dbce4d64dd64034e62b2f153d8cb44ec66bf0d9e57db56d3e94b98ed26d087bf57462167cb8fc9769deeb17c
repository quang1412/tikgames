{"map":{"version":3,"sources":["static/js/6.15b6aeed.chunk.js"],"names":["this","push","53","module","exports","__webpack_require__","html","App","gameScreen","wheel","header","info","wheelContainer","wheelBg","wheelCanvas","actions","modal","56","__webpack_exports__","r","_Users_trinhdacquang_React_tikgames_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Users_trinhdacquang_React_tikgames_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","_Users_trinhdacquang_React_tikgames_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","n","_style_module_css__WEBPACK_IMPORTED_MODULE_4__","_style_module_css__WEBPACK_IMPORTED_MODULE_4___default","winwheel__WEBPACK_IMPORTED_MODULE_5__","winwheel__WEBPACK_IMPORTED_MODULE_5___default","defaultSettings","tiktokId","commentKey","follower","friend","giftCount","giftName","joinEvent","maxPlayer","unfollower","winnerShowDuration","window","wheelSoundTrigger","console","log","WheelBackground","_useState","Object","_useState2","index","setindex","i","setTimeout","clearTimeout","a","createElement","Fragment","className","style","backgroundImage","Wheel","props","players","keys","segments","length","map","uniqueId","player","id","text","name","nickname","fillStyle","textFillStyle","image","profilePictureUrl","numSegments","responsive","innerRadius","size","outerRadius","centerY","centerX","textFontSize","lineWidth","animation","type","easing","duration","spins","soundTrigger","callbackFinished","pins","number","rotationAngle","draw","createWheel","stopAnimation","e","width","height","Winner","_useState3","_useState4","isShow","setShow","marginTop","onAnimationEnd","target","classList","remove","add","removeEventListener","addEventListener","textShadow","alt","src","onError","imageOnError","TutorialCard","_ref","settings","playerCount","show","O","bạn bè","người theo dõi","chưa theo dõi","key","fontSize","join","JoinedPlayer","_ref2","container","document","getElementById","handleAnimationEnd","onanimationend","lastPlayer","values","pop","imageUrlFixing","defaultAvatar","setAttribute","marginLeft","randomInt","appendChild","_ref3","event","_useState5","_useState6","setting_1","updateSettings","_useState7","_useState8","setPlayers","_useState9","_useState10","canJoin","setCanjoin","_useState11","_useState12","winner","setWinner","_useState13","_useState14","isSpining","setIsSpining","validFollowrRole","0","1","2","followRole","resetWheel","current","valid","comment","includes","giftType","repeatCount","repeatEnd","Math","floor","random","startAnimation","wheelFinished","winningSegment","getIndicatedSegment","warn","concat","zIndex"],"mappings":"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"},"code":"(this[\"webpackJsonpstarter-cra-and-react\"]=this[\"webpackJsonpstarter-cra-and-react\"]||[]).push([[6],{53:function(e,t,n){e.exports={html:\"style_html__xRU5M\",App:\"style_App__318US\",gameScreen:\"style_gameScreen__14i96\",wheel:\"style_wheel__17HAv\",header:\"style_header__2tiKQ\",info:\"style_info__1Cjzb\",wheelContainer:\"style_wheelContainer__3YLa_\",wheelBg:\"style_wheelBg__3-dAe\",wheelCanvas:\"style_wheelCanvas__2rjVB\",actions:\"style_actions__ZkXv3\",modal:\"style_modal__2xGNW\"}},56:function(e,t,n){\"use strict\";n.r(t);var a=n(6),i=n(5),o=n(4),r=n(0),l=n.n(r),f=n(53),s=n.n(f),c=n(57),m=n.n(c),u={tiktokId:\"\",commentKey:\"JOIN\",follower:!0,friend:!0,giftCount:1,giftName:\"rose\",joinEvent:\"chat\",maxPlayer:100,unfollower:!0,winnerShowDuration:10};window.wheelSoundTrigger=function(){return console.log(\"play sound\")};var d=function(){var e=Object(r.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){return a(1-n)}),1e3);return function(){return clearTimeout(e)}}),[n]),l.a.createElement(l.a.Fragment,null,l.a.createElement(\"div\",{className:s.a.wheelBg+(n?\" d-none\":\"\"),style:{backgroundImage:\"url('/assets/images/wheel-of-fortune-bg-1.webp')\"}}),l.a.createElement(\"div\",{className:s.a.wheelBg+(n?\"\":\" d-none\"),style:{backgroundImage:\"url('/assets/images/wheel-of-fortune-bg-2.webp')\"}}))},w=function(e){var t=e.players;return Object(r.useEffect)((function(){return function(){var e=Object.keys(t),n=e.length?e.map((function(e,n){var a=t[e];return{id:a.uniqueId,text:a.uniqueId,name:a.nickname||\"\",fillStyle:n%2===0?\"#ff0000\":\"#ffffff\",textFillStyle:n%2===0?\"#ffffff\":\"#ff0000\",image:a.profilePictureUrl}})):[{fillStyle:\"#ff0000\",textFillStyle:\"#ff0000\",text:\"\"}];window.wheel=new m.a({numSegments:n.length,responsive:!0,innerRadius:16,outerRadius:145,centerY:180,centerX:200,textFontSize:200*.07,lineWidth:1,segments:n,animation:{type:\"spinToStop\",easing:\"Power2.easeOut\",duration:30,spins:30,soundTrigger:\"pin\",callbackFinished:\"window.wheelFinished()\"},pins:{number:n.length,responsive:!0,outerRadius:0}}),window.wheel.rotationAngle=0,window.wheel.draw()}(),function(){try{window.wheel.stopAnimation(!1)}catch(e){}window.wheel=null}}),[t]),l.a.createElement(\"canvas\",{className:s.a.wheelCanvas,id:\"canvas\",width:400,height:400},\"Canvas not supported, use another browser.\")},p=function(e){var t=e.info,n=e.duration,a=Object(r.useState)(!0),i=Object(o.a)(a,2),f=i[0],s=i[1];return f&&l.a.createElement(\"div\",{className:\"animate__animated animate__zoomInDown h-100 text-center d-flex flex-column justify-content-center align-items-center\",style:{marginTop:\"-40px\"},onAnimationEnd:function e(t){var a=t.target;a.classList.remove(\"animate__zoomInDown\"),setTimeout((function(){a.classList.add(\"animate__fadeOut\"),a.removeEventListener(\"animationend\",e),a.addEventListener(\"animationend\",(function(){s(!1)}))}),1e3*n)}},l.a.createElement(\"span\",{className:\"fw-bolder fs-4 text-info\",style:{textShadow:\"2px 2px 0 #ffffff, 2px -2px 0 #ffffff, -2px 2px 0 #ffffff, -2px -2px 0 #ffffff, 2px 0px 0 #ffffff, 0px 2px 0 #ffffff, -2px 0px 0 #ffffff, 0px -2px 0 #ffffff\"}},\"WINNER\"),l.a.createElement(\"img\",{className:\"d-block rounded-circle mx-auto border border-5 border-info\",width:\"150\",height:\"150\",alt:\"winner\",src:t.image,onError:window.imageOnError}),l.a.createElement(\"span\",{className:\"fw-bolder fs-4 text-info lh-1\",style:{textShadow:\"2px 2px 0 #ffffff, 2px -2px 0 #ffffff, -2px 2px 0 #ffffff, -2px -2px 0 #ffffff, 2px 0px 0 #ffffff, 0px 2px 0 #ffffff, -2px 0px 0 #ffffff, 0px -2px 0 #ffffff\"}},t.name,l.a.createElement(\"br\",null),l.a.createElement(\"small\",{className:\"fs-6\"},t.text)))},h=function(e){var t=e.settings,n=e.playerCount,a=e.show,i={\"b\\u1ea1n b\\xe8\":t.friend,\"ng\\u01b0\\u1eddi theo d\\xf5i\":t.follower,\"ch\\u01b0a theo d\\xf5i\":t.unfollower},o=[];for(var r in i)i[r]&&o.push(r);return l.a.createElement(\"div\",{style:{fontSize:\".8rem\",width:\"85%\"},className:\"bg-light border border-1 text-dark text-start p-2 rounded-5 mx-auto animate__animated \"+(a?\"animate__flipInX\":\"animate__flipOutX\")},l.a.createElement(\"p\",{className:\"mb-0 text-nowrap\"},\"- Ng\\u01b0\\u1eddi ch\\u01a1i: \",o.join(\" / \")),l.a.createElement(\"p\",{className:\"mb-0 text-nowrap\"},\"- \\u0110i\\u1ec1u ki\\u1ec7n:\",\" \",\"chat\"===t.joinEvent?l.a.createElement(l.a.Fragment,null,\"comment n\\u1ed9i dung\",l.a.createElement(\"span\",{className:\"text-danger ms-2\"},t.commentKey)):\"gift\"===t.joinEvent&&l.a.createElement(l.a.Fragment,null,\"t\\u1eb7ng t\\u1ed1i thi\\u1ec3u combo\",l.a.createElement(\"span\",{className:\"text-danger ms-2\"},t.giftCount,\" \",t.giftName))),l.a.createElement(\"p\",{className:\"mb-0 text-nowrap\"},\"- \\u0110\\xe3 tham gia: \",n+\" / \"+t.maxPlayer))},g=function(e){var t=e.players,n=e.show,a=document.getElementById(\"joined-players\"),i=function(e){e.target.classList.remove(\"animate__backInUp\",\"opacity-100\"),setTimeout((function(){e.target.classList.add(\"animate__zoomOut\")}),3e3),e.target.onanimationend=e.target.remove};return Object(r.useEffect)((function(){var e=Object.values(t).pop(),n=window.document.createElement(\"img\");n.src=window.imageUrlFixing((null===e||void 0===e?void 0:e.profilePictureUrl)||window.defaultAvatar),n.className=\"position-absolute start-0 top-0 rounded-circle rounded-circle border border-light border-5 opacity-100 animate__animated animate__slow animate__backInUp\",n.setAttribute(\"width\",80),n.setAttribute(\"height\",80),n.onanimationend=i,n.style.marginLeft=window.randomInt(0,320)+\"px\",n.style.marginTop=window.randomInt(0,320)+\"px\",e&&setTimeout((function(){a.appendChild(n)}),window.randomInt(100,500))}),[t]),l.a.createElement(\"div\",{className:\"position-relative \"+(!n&&\"animate__animated animate__zoomOut\"),id:\"joined-players\"})};t.default=Object(r.memo)((function(e){var t=e.event,n=e.settings,f=Object(r.useState)(u),s=Object(o.a)(f,2),c=s[0],m=s[1],b=Object(r.useState)({}),x=Object(o.a)(b,2),_=x[0],v=x[1],y=Object(r.useState)(!0),E=Object(o.a)(y,2),j=E[0],O=E[1],N=Object(r.useState)(!1),S=Object(o.a)(N,2),k=S[0],I=S[1],A=Object(r.useState)(!1),C=Object(o.a)(A,2),F=C[0],T=C[1];return Object(r.useEffect)((function(){n&&m(n)}),[n]),Object(r.useEffect)((function(){var e={0:c.unfollower,1:c.follower,2:c.friend},n=t.name,o=t.uniqueId,r=t.nickname,l=t.profilePictureUrl,f=t.followRole;if(\"spin\"!==n)return\"restart\"===n?function(){try{window.wheel.stopAnimation(!1)}catch(e){}window.wheel.rotationAngle=0,window.wheel.draw(),v({}),T(!1),O(!0),I(!1)}():void v((function(s){var m;if(Object.keys(s).length>=c.maxPlayer||!j)return s;if(s[o]||n!==c.joinEvent||!e[f])return s;switch(n){case\"chat\":var u=t.comment;m=u&&u.includes(c.commentKey);break;case\"gift\":var d=t.giftType,w=t.giftName,p=t.repeatCount,h=t.repeatEnd;if(1===d&&!h)break;m=w===c.giftName&&p<c.giftCount}return m?Object(i.a)(Object(i.a)({},s),{},Object(a.a)({},o,{uniqueId:o,nickname:r,profilePictureUrl:l})):s}));Object.keys(_).length<2||F||(window.wheel.rotationAngle=Math.floor(359*Math.random())+1,window.wheel.draw(),window.wheel.startAnimation(),O(!1),I(!1),T(!0))}),[t,j,c]),Object(r.useEffect)((function(){return window.wheelFinished=function(){var e=window.wheel.getIndicatedSegment();I(!!e.id&&e),T(!1),console.warn(e.text,\"is winner\")},function(){window.wheelFinished=null}}),[]),l.a.createElement(\"div\",{className:\"position-relative mx-auto p-2\",style:{width:\"\".concat(400,\"px\"),height:\"\".concat(400,\"px\")}},l.a.createElement(h,{settings:c,playerCount:Object.keys(_).length,show:j}),l.a.createElement(\"div\",{className:\"position-absolute w-100 text-center\",style:{zIndex:\"1\"}},l.a.createElement(g,{players:_,show:j})),l.a.createElement(\"div\",{className:\"position-absolute  \"},l.a.createElement(w,{players:_})),l.a.createElement(\"div\",{className:\"position-absolute w-100 h-100\"},l.a.createElement(d,null)),l.a.createElement(\"div\",{className:\"position-absolute w-100 h-100\"},k&&k.id&&l.a.createElement(p,{info:k,duration:c.winnerShowDuration||10})))}))}}]);","extractedComments":[]}