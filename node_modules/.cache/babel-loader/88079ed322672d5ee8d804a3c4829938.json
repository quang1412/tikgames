{"ast":null,"code":"var _jsxFileName = \"/Users/trinhdacquang/React/tikgames/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport \"./App.css\";\nimport { MDBContainer } from \"mdb-react-ui-kit\";\nconst socket = io({\n  path: \"/socket\"\n});\nconst LoadingPage = () => {\n  return /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 10\n    }\n  }, \"connecting...\");\n};\nconst ControlPage = _ref => {\n  let {\n    event\n  } = _ref;\n  useEffect(() => {}, [event]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, \"controller\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, event.name));\n};\nfunction App() {\n  const [isConnected, setIsConnected] = useState(socket.connected);\n  const [event, updateEvent] = useState({});\n  useEffect(() => {\n    socket.on(\"connect\", async () => {\n      setIsConnected(true);\n      console.log(\"socket connected\");\n    });\n    socket.on(\"disconnect\", () => {\n      setIsConnected(false);\n    });\n    socket.on(\"tiktok-gift\", data => {\n      updateEvent(data);\n    });\n    return () => {\n      socket.off(\"connect\");\n      socket.off(\"disconnect\");\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(MDBContainer, {\n    className: \"pt-4 vh-100 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, !isConnected ? /*#__PURE__*/React.createElement(LoadingPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(ControlPage, {\n    event: event,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 41\n    }\n  }));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","io","MDBContainer","socket","path","LoadingPage","ControlPage","event","name","App","isConnected","setIsConnected","connected","updateEvent","on","console","log","data","off"],"sources":["/Users/trinhdacquang/React/tikgames/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\n\nimport io from \"socket.io-client\"\nimport \"./App.css\"\nimport { MDBContainer } from \"mdb-react-ui-kit\"\n\nconst socket = io({\n  path: \"/socket\",\n})\n\nconst LoadingPage = () => {\n  return <h5>connecting...</h5>\n}\n\nconst ControlPage = ({ event }) => {\n  useEffect(() => {}, [event])\n  return (\n    <>\n      <h5>controller</h5>\n      <span>{event.name}</span>\n    </>\n  )\n}\n\nfunction App() {\n  const [isConnected, setIsConnected] = useState(socket.connected)\n  const [event, updateEvent] = useState({})\n\n  useEffect(() => {\n    socket.on(\"connect\", async () => {\n      setIsConnected(true)\n      console.log(\"socket connected\")\n    })\n\n    socket.on(\"disconnect\", () => {\n      setIsConnected(false)\n    })\n\n    socket.on(\"tiktok-gift\", (data) => {\n      updateEvent(data)\n    })\n\n    return () => {\n      socket.off(\"connect\")\n      socket.off(\"disconnect\")\n    }\n  }, [])\n\n  return (\n    <MDBContainer className=\"pt-4 vh-100 text-left\">\n      {!isConnected ? <LoadingPage /> : <ControlPage event={event} />}\n    </MDBContainer>\n  )\n}\n\nexport default App\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,OAAOC,EAAE,MAAM,kBAAkB;AACjC,OAAO,WAAW;AAClB,SAASC,YAAY,QAAQ,kBAAkB;AAE/C,MAAMC,MAAM,GAAGF,EAAE,CAAC;EAChBG,IAAI,EAAE;AACR,CAAC,CAAC;AAEF,MAAMC,WAAW,GAAG,MAAM;EACxB,oBAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mBAAsB;AAC/B,CAAC;AAED,MAAMC,WAAW,GAAG,QAAe;EAAA,IAAd;IAAEC;EAAM,CAAC;EAC5BP,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAACO,KAAK,CAAC,CAAC;EAC5B,oBACE,uDACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAmB,eACnB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAOA,KAAK,CAACC,IAAI,CAAQ,CACxB;AAEP,CAAC;AAED,SAASC,GAAG,GAAG;EACb,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAACI,MAAM,CAACS,SAAS,CAAC;EAChE,MAAM,CAACL,KAAK,EAAEM,WAAW,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEzCC,SAAS,CAAC,MAAM;IACdG,MAAM,CAACW,EAAE,CAAC,SAAS,EAAE,YAAY;MAC/BH,cAAc,CAAC,IAAI,CAAC;MACpBI,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;IACjC,CAAC,CAAC;IAEFb,MAAM,CAACW,EAAE,CAAC,YAAY,EAAE,MAAM;MAC5BH,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC;IAEFR,MAAM,CAACW,EAAE,CAAC,aAAa,EAAGG,IAAI,IAAK;MACjCJ,WAAW,CAACI,IAAI,CAAC;IACnB,CAAC,CAAC;IAEF,OAAO,MAAM;MACXd,MAAM,CAACe,GAAG,CAAC,SAAS,CAAC;MACrBf,MAAM,CAACe,GAAG,CAAC,YAAY,CAAC;IAC1B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE,oBAAC,YAAY;IAAC,SAAS,EAAC,uBAAuB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAC5C,CAACR,WAAW,gBAAG,oBAAC,WAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,gBAAG,oBAAC,WAAW;IAAC,KAAK,EAAEH,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAClD;AAEnB;AAEA,eAAeE,GAAG"},"metadata":{},"sourceType":"module"}