{"ast":null,"code":"var _jsxFileName = \"/Users/trinhdacquang/React/tikgames/src/components/connectCard.jsx\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { MDBSpinner, MDBInputGroup, MDBBtn, MDBIcon, MDBCard, MDBCardHeader, MDBCardBody } from \"mdb-react-ui-kit\";\nexport default function InputCard(_ref) {\n  let {\n    socket\n  } = _ref;\n  const [isLoading, setLoading] = useState(false);\n  const tiktokIdRef = useRef(null);\n  const btnRef = useRef(null);\n  function start() {\n    tiktokIdRef.current.setAttribute(\"disabled\", true);\n    btnRef.current.setAttribute(\"disabled\", true);\n    const id = tiktokIdRef.current.value;\n    socket.emit(\"createRoom\", id);\n    window.localStorage.setItem(\"lastTiktokId\", id);\n    setLoading(true);\n  }\n  useEffect(() => {\n    return tiktokIdRef.current.focus();\n  });\n  useEffect(() => {\n    socket.on(\"tiktok-connectSuccess\", () => {\n      window.toast.success(`Connected successfully!`);\n      setLoading(false);\n    });\n    socket.on(\"tiktok-connectFailed\", error => {\n      tiktokIdRef.current.removeAttribute(\"disabled\");\n      btnRef.current.removeAttribute(\"disabled\");\n      window.toast.error(`Connect has failed: ${error}`);\n      setLoading(false);\n    });\n    socket.on(\"tiktok-streamEnd\", reason => {\n      tiktokIdRef.current.removeAttribute(\"disabled\");\n      btnRef.current.removeAttribute(\"disabled\");\n      window.toast.info(`Livestream has ended: ${reason}`);\n    });\n    return () => {\n      socket.off(\"tiktok-connectSuccess\");\n      socket.off(\"tiktok-connectFailed\");\n      socket.off(\"tiktok-streamEnd\");\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MDBInputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: tiktokIdRef,\n    className: \"form-control\",\n    placeholder: \"enter tiktok id\",\n    type: \"text\",\n    defaultValue: window.localStorage.lastTiktokId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MDBBtn, {\n    ref: btnRef,\n    onClick: start,\n    className: \"position-relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: isLoading ? \"invisible\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"K\\u1EBFt n\\u1ED1i \", /*#__PURE__*/React.createElement(MDBIcon, {\n    className: \"ms-1\",\n    fas: true,\n    icon: \"angle-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  })), isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"position-absolute top-0 bottom-0 start-0 end-0 mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MDBSpinner, {\n    className: \"my-2\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"visually-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Loading...\"))))));\n}","map":{"version":3,"names":["React","useState","useEffect","useRef","MDBSpinner","MDBInputGroup","MDBBtn","MDBIcon","MDBCard","MDBCardHeader","MDBCardBody","InputCard","socket","isLoading","setLoading","tiktokIdRef","btnRef","start","current","setAttribute","id","value","emit","window","localStorage","setItem","focus","on","toast","success","error","removeAttribute","reason","info","off","lastTiktokId"],"sources":["/Users/trinhdacquang/React/tikgames/src/components/connectCard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\"\nimport {\n  MDBSpinner,\n  MDBInputGroup,\n  MDBBtn,\n  MDBIcon,\n  MDBCard,\n  MDBCardHeader,\n  MDBCardBody,\n} from \"mdb-react-ui-kit\"\n\nexport default function InputCard({ socket }) {\n  const [isLoading, setLoading] = useState(false)\n  const tiktokIdRef = useRef(null)\n  const btnRef = useRef(null)\n\n  function start() {\n    tiktokIdRef.current.setAttribute(\"disabled\", true)\n    btnRef.current.setAttribute(\"disabled\", true)\n    const id = tiktokIdRef.current.value\n    socket.emit(\"createRoom\", id)\n    window.localStorage.setItem(\"lastTiktokId\", id)\n    setLoading(true)\n  }\n\n  useEffect(() => {\n    return tiktokIdRef.current.focus()\n  })\n\n  useEffect(() => {\n    socket.on(\"tiktok-connectSuccess\", () => {\n      window.toast.success(`Connected successfully!`)\n      setLoading(false)\n    })\n\n    socket.on(\"tiktok-connectFailed\", (error) => {\n      tiktokIdRef.current.removeAttribute(\"disabled\")\n      btnRef.current.removeAttribute(\"disabled\")\n      window.toast.error(`Connect has failed: ${error}`)\n      setLoading(false)\n    })\n\n    socket.on(\"tiktok-streamEnd\", (reason) => {\n      tiktokIdRef.current.removeAttribute(\"disabled\")\n      btnRef.current.removeAttribute(\"disabled\")\n      window.toast.info(`Livestream has ended: ${reason}`)\n    })\n\n    return () => {\n      socket.off(\"tiktok-connectSuccess\")\n      socket.off(\"tiktok-connectFailed\")\n      socket.off(\"tiktok-streamEnd\")\n    }\n  }, [])\n\n  return (\n    <>\n      <MDBInputGroup>\n        <input\n          ref={tiktokIdRef}\n          className=\"form-control\"\n          placeholder=\"enter tiktok id\"\n          type=\"text\"\n          defaultValue={window.localStorage.lastTiktokId}\n        />\n        <MDBBtn ref={btnRef} onClick={start} className=\"position-relative\">\n          <span className={isLoading ? \"invisible\" : \"\"}>\n            Kết nối <MDBIcon className=\"ms-1\" fas icon=\"angle-right\" />\n          </span>\n          {isLoading && (\n            <div className=\"position-absolute top-0 bottom-0 start-0 end-0 mx-auto\">\n              <MDBSpinner className=\"my-2\" size=\"sm\">\n                <span className=\"visually-hidden\">Loading...</span>\n              </MDBSpinner>\n            </div>\n          )}\n        </MDBBtn>\n      </MDBInputGroup>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}