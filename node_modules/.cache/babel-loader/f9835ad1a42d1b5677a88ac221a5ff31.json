{"ast":null,"code":"var _jsxFileName = \"/Users/trinhdacquang/React/tikgames/src/App.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport io from \"socket.io-client\";\nimport \"./App.css\";\nimport { MDBContainer, MDBInputGroup, MDBBtn } from \"mdb-react-ui-kit\";\nconst socket = io({\n  path: \"/socket\"\n});\nconst LoadingPage = () => {\n  return /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 10\n    }\n  }, \"connecting...\");\n};\nconst ControlPage = _ref => {\n  let {\n    event\n  } = _ref;\n  useEffect(() => {}, [event]);\n  const tiktokId = useRef(null);\n  function start() {\n    window.alert(tiktokId.current.value());\n  }\n  return /*#__PURE__*/React.createElement(MDBContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, \"controller\"), /*#__PURE__*/React.createElement(MDBInputGroup, {\n    className: \"mb-3\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: tiktokId,\n    className: \"form-control\",\n    placeholder: \"enter tiktok id\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MDBBtn, {\n    outline: true,\n    onClick: start,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"Start\")), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, event.name));\n};\nfunction App() {\n  const [isConnected, setIsConnected] = useState(socket.connected);\n  const [event, updateEvent] = useState({});\n  useEffect(() => {\n    socket.on(\"connect\", async () => {\n      setIsConnected(true);\n      console.log(\"socket connected\");\n    });\n    socket.on(\"disconnect\", () => {\n      setIsConnected(false);\n    });\n    socket.on(\"tiktok-chat\", data => {\n      updateEvent(data);\n    });\n    socket.on(\"tiktok-gift\", data => {\n      updateEvent(data);\n    });\n    socket.on(\"tiktok-follow\", data => {\n      updateEvent(data);\n    });\n    socket.on(\"tiktok-share\", data => {\n      updateEvent(data);\n    });\n    socket.on(\"tiktok-like\", data => {\n      updateEvent(data);\n    });\n    return () => {\n      socket.off(\"connect\");\n      socket.off(\"disconnect\");\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(MDBContainer, {\n    className: \"pt-4 vh-100 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, !isConnected ? /*#__PURE__*/React.createElement(LoadingPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(ControlPage, {\n    event: event,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 41\n    }\n  }));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","io","MDBContainer","MDBInputGroup","MDBBtn","socket","path","LoadingPage","ControlPage","event","tiktokId","start","window","alert","current","value","maxWidth","name","App","isConnected","setIsConnected","connected","updateEvent","on","console","log","data","off"],"sources":["/Users/trinhdacquang/React/tikgames/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\"\n\nimport io from \"socket.io-client\"\nimport \"./App.css\"\nimport { MDBContainer, MDBInputGroup, MDBBtn } from \"mdb-react-ui-kit\"\n\nconst socket = io({\n  path: \"/socket\",\n})\n\nconst LoadingPage = () => {\n  return <h5>connecting...</h5>\n}\n\nconst ControlPage = ({ event }) => {\n  useEffect(() => {}, [event])\n  const tiktokId = useRef(null)\n\n  function start() {\n    window.alert(tiktokId.current.value())\n  }\n\n  return (\n    <MDBContainer>\n      <h5>controller</h5>\n      <MDBInputGroup className=\"mb-3\" style={{ maxWidth: \"300px\" }}>\n        <input\n          ref={tiktokId}\n          className=\"form-control\"\n          placeholder=\"enter tiktok id\"\n          type=\"text\"\n        />\n        <MDBBtn outline onClick={start}>\n          Start\n        </MDBBtn>\n      </MDBInputGroup>\n      <span>{event.name}</span>\n    </MDBContainer>\n  )\n}\n\nfunction App() {\n  const [isConnected, setIsConnected] = useState(socket.connected)\n  const [event, updateEvent] = useState({})\n\n  useEffect(() => {\n    socket.on(\"connect\", async () => {\n      setIsConnected(true)\n      console.log(\"socket connected\")\n    })\n\n    socket.on(\"disconnect\", () => {\n      setIsConnected(false)\n    })\n\n    socket.on(\"tiktok-chat\", (data) => {\n      updateEvent(data)\n    })\n\n    socket.on(\"tiktok-gift\", (data) => {\n      updateEvent(data)\n    })\n\n    socket.on(\"tiktok-follow\", (data) => {\n      updateEvent(data)\n    })\n\n    socket.on(\"tiktok-share\", (data) => {\n      updateEvent(data)\n    })\n\n    socket.on(\"tiktok-like\", (data) => {\n      updateEvent(data)\n    })\n\n    return () => {\n      socket.off(\"connect\")\n      socket.off(\"disconnect\")\n    }\n  }, [])\n\n  return (\n    <MDBContainer className=\"pt-4 vh-100 text-left\">\n      {!isConnected ? <LoadingPage /> : <ControlPage event={event} />}\n    </MDBContainer>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}